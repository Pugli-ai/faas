{% extends 'founder_assistance/base.html' %}

{% block content %}
<!--begin::Content-->
<div id="kt_app_content" class="app-content flex-column-fluid">
    <!--begin::Content container-->
    <div id="kt_app_content_container" class="app-container container-xxl">
        <!--begin::Card-->
        <div class="card">
            <!--begin::Card header-->
            <div class="card-header">
                <h2 class="card-title fw-bold">Customer Segment Analysis</h2>
                <div class="card-toolbar">
                    <form method="post" class="me-3">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-magic me-2"></i>Generate Analysis
                        </button>
                    </form>
                    <a href="{% url 'founder_assistance:project_detail' project.id %}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-2"></i>Back to Project
                    </a>
                </div>
            </div>
            <!--end::Card header-->

            <!--begin::Card body-->
            <div class="card-body">
                {% if segments %}
                    <!--begin::Row-->
                    <div class="row g-5">
                        {% for segment in segments %}
                        <!--begin::Col-->
                        <div class="col-md-4">
                            <div class="card bg-light h-100">
                                <div class="card-body">
                                    <h3 class="card-title fw-bold mb-4">Segment {{ forloop.counter }}</h3>
                                    
                                    <div class="mb-4">
                                        <h4 class="fs-6 fw-semibold text-gray-600">Demographics</h4>
                                        <p class="fs-6">{{ segment.demographics }}</p>
                                    </div>

                                    <div class="mb-4">
                                        <h4 class="fs-6 fw-semibold text-gray-600">Pain Points</h4>
                                        <p class="fs-6">{{ segment.pain_points }}</p>
                                    </div>

                                    <div class="mb-4">
                                        <h4 class="fs-6 fw-semibold text-gray-600">Needs</h4>
                                        <p class="fs-6">{{ segment.needs }}</p>
                                    </div>

                                    <div class="mb-4">
                                        <h4 class="fs-6 fw-semibold text-gray-600">Buying Behavior</h4>
                                        <p class="fs-6">{{ segment.buying_behavior }}</p>
                                    </div>

                                    <div>
                                        <h4 class="fs-6 fw-semibold text-gray-600">Marketing Approach</h4>
                                        <p class="fs-6">{{ segment.marketing_approach }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end::Col-->
                        {% endfor %}
                    </div>
                    <!--end::Row-->
                {% else %}
                    <!--begin::Empty State-->
                    <div class="text-center py-10">
                        <i class="fas fa-users fs-3x text-primary mb-5"></i>
                        <h3 class="fs-2 fw-bold mb-3">No Customer Segments Yet</h3>
                        <p class="text-gray-600 fs-6 mb-5">
                            Click the "Generate Analysis" button above to create detailed customer segments 
                            using AI analysis of your project details.
                        </p>
                    </div>
                    <!--end::Empty State-->
                {% endif %}
            </div>
            <!--end::Card body-->
        </div>
        <!--end::Card-->
    </div>
    <!--end::Content container-->
</div>
<!--end::Content-->
{% endblock %}
